(this.webpackJsonpexpenses=this.webpackJsonpexpenses||[]).push([[0],{187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},195:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(90),l=a.n(i),c=a(30),r=a(6),o=a(7),u=a(16),d=a(9),m=a(8),p=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"iconFrom",value:function(e){switch(e){case"Groceries":return"local_grocery_store";case"Restaurants":return"local_dining";case"Car":return"directions_car";case"Hobbies":return"local_library";case"Household":return"home";case"Shopping":return"local_mall";case"Health":return"local_hospital";case"Entertainment":return"local_movies";case"Transport":return"directions_bus";case"Bambino":return"face";case"Travel":return"flight";default:return"attach_money"}}},{key:"render",value:function(){return s.a.createElement("span",{className:"mdc-list-item__start-detail ".concat(this.props.category),role:"presentation"},s.a.createElement("i",{className:"material-icons","aria-hidden":"true"},this.iconFrom(this.props.category)))}}]),a}(n.Component),h=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"formatDate",value:function(e){if(e){var t=e.split("-");return"".concat(t[2],"/").concat(t[1],"/").concat(t[0])}}},{key:"UtilityFormatDate",value:function(e){if(e){var t=e.split("-");return"".concat(t[2],"-").concat(["none","Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"][parseInt(t[1])],"-").concat(t[0])}}},{key:"render",value:function(){var e=this;return s.a.createElement("li",{className:"mdc-list-item",onClick:function(){return e.props.onSelect(e.props.expense)}},s.a.createElement(p,{category:this.props.expense.type?this.props.expense.type:this.props.expense.category}),s.a.createElement("span",{className:"mdc-list-item__text",style:{width:this.props.expense.paidPercentage?"40%":""}},this.props.expense.type?this.props.expense.type:this.props.expense.category,this.props.expense.loanAmount?s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{style:{width:(this.props.expense.paidPercentage||"").toString()}},this.props.expense.paidPercentage)):"",s.a.createElement("span",{className:"mdc-list-item__text__secondary"},this.props.expense.billAmount?this.UtilityFormatDate(this.props.expense.startDate)+" | "+this.UtilityFormatDate(this.props.expense.endDate):this.formatDate(this.props.expense.date))),s.a.createElement("span",{className:"mdc-list-item__end-detail"},"\u20b9",this.props.expense.loanAmount?this.props.expense.loanAmount:this.props.expense.unit?this.props.expense.billAmount:this.props.expense.amount,this.props.expense.loanAmount?s.a.createElement("span",null,this.props.expense.paid):""))}}]),a}(n.Component),f=(a(186),a(187),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{className:"mdc-list mdc-list--two-line mdc-list--avatar-list"},this.props.expenses.map((function(t){return s.a.createElement(h,{key:t.id,expense:t,onSelect:e.props.onSelect})})))}}]),a}(n.Component)),g=a(23),b=a(24),y=(a(55),a(56),a(57),a(37),a(58),a(188),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target;t.reportValidity(),n.setState({isValid:n.form.checkValidity()}),n.props.onChange(t.name,t.value)},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit()},n.initializeDeleteModal=function(e){e&&(n.dialog=new b.MDCDialog(e),n.dialog.listen("MDCDialog:accept",(function(){document.body.className=document.body.className.replace("mdc-dialog-scroll-lock",""),n.props.onDelete(n.props.expense)})))},n.state={isValid:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.querySelectorAll(".mdc-textfield").forEach((function(e){new g.MDCTextfield(e)})),void 0===this.props.expense.id&&this.amountInput.focus()}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.handleSubmit,ref:function(t){e.form=t},noValidate:!0},s.a.createElement("aside",{className:"mdc-dialog",ref:this.initializeDeleteModal},s.a.createElement("div",{className:"mdc-dialog__surface"},s.a.createElement("header",{className:"mdc-dialog__header"},s.a.createElement("h2",{className:"mdc-dialog__header__title"},"Are you sure?")),s.a.createElement("section",{className:"mdc-dialog__body"},"Do you really want to delete the expense?"),s.a.createElement("footer",{className:"mdc-dialog__footer"},s.a.createElement("button",{type:"button",className:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--cancel"},"Cancel"),s.a.createElement("button",{type:"button",className:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--accept"},"Delete")))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"amount",className:"mdc-textfield__input",ref:function(t){e.amountInput=t},value:this.props.expense.amount,onChange:this.handleInputChange,type:"number",step:"0.01",min:"0",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Amount"))),s.a.createElement("div",{className:"mdc-form-field",style:{width:"100%"}},s.a.createElement("select",{name:"category",style:{width:"100%"},className:"mdc-select",value:this.props.expense.category,onChange:this.handleInputChange,required:!0},this.props.categories.map((function(e){return s.a.createElement("option",{value:e,key:e},e)})))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"description",className:"mdc-textfield__input",value:this.props.expense.description,onChange:this.handleInputChange,type:"text"}),s.a.createElement("label",{className:"mdc-textfield__label"},"Description"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"date",className:"mdc-textfield__input",value:this.props.expense.date,onChange:this.handleInputChange,type:"date",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Date"))),s.a.createElement("div",{className:"mdc-form-field",style:{width:"100%"}},s.a.createElement("select",{name:"account",style:{width:"100%"},className:"mdc-select",value:this.props.expense.account,onChange:this.handleInputChange,required:!0},this.props.accounts.map((function(e){return s.a.createElement("option",{value:e,key:e},e)})))),s.a.createElement("div",{className:"mdc-form-field mdc-form-submit"},s.a.createElement("input",{type:"submit",className:"mdc-button primary-button",value:this.props.expense.id?"Update":"Add",disabled:!this.state.isValid}),this.props.expense.id&&s.a.createElement("input",{type:"button",className:"mdc-button",onClick:function(){return e.dialog.show()},value:"Delete",disabled:1==this.props.totalRec}),s.a.createElement("input",{type:"button",className:"mdc-button",onClick:function(){return e.props.onCancel()},value:"Close"})))}}]),a}(n.Component)),E=(a(189),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target;t.reportValidity(),n.setState({isValid:n.form.checkValidity()}),n.props.onChange(t.name,t.value)},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit()},n.initializeDeleteModal=function(e){e&&(n.dialog=new b.MDCDialog(e),n.dialog.listen("MDCDialog:accept",(function(){document.body.className=document.body.className.replace("mdc-dialog-scroll-lock",""),n.props.onDelete(n.props.loan)})))},n.state={isValid:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.querySelectorAll(".mdc-textfield").forEach((function(e){new g.MDCTextfield(e)})),void 0===this.props.loan.id&&this.amountInput.focus()}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.handleSubmit,ref:function(t){e.form=t},noValidate:!0},s.a.createElement("aside",{className:"mdc-dialog",ref:this.initializeDeleteModal},s.a.createElement("div",{className:"mdc-dialog__surface"},s.a.createElement("header",{className:"mdc-dialog__header"},s.a.createElement("h2",{className:"mdc-dialog__header__title"},"Are you sure?")),s.a.createElement("section",{className:"mdc-dialog__body"},"Do you really want to delete the Loan?"),s.a.createElement("footer",{className:"mdc-dialog__footer"},s.a.createElement("button",{type:"button",className:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--cancel"},"Cancel"),s.a.createElement("button",{type:"button",className:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--accept"},"Delete")))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"loanAmount",className:"mdc-textfield__input",ref:function(t){e.amountInput=t},value:this.props.loan.loanAmount,onChange:this.handleInputChange,type:"number",step:"0.01",min:"0",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Loan Amount"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"interestRate",className:"mdc-textfield__input",value:this.props.loan.interestRate,onChange:this.handleInputChange,type:"number",step:"0.01",min:"0",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Annual Interest Rate"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"loanTerm",className:"mdc-textfield__input",value:this.props.loan.loanTerm,onChange:this.handleInputChange,type:"number",step:"0.01",min:"0",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Loan Term( year )"))),s.a.createElement("div",{className:"mdc-form-field",style:{width:"100%"}},s.a.createElement("select",{name:"category",style:{width:"100%"},className:"mdc-select",value:this.props.loan.category,onChange:this.handleInputChange,required:!0},this.props.loanCategories.map((function(e){return s.a.createElement("option",{value:e,key:e},e)})))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"startDate",className:"mdc-textfield__input",value:this.props.loan.startDate,onChange:this.handleInputChange,type:"date",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Start Date"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"endDate",className:"mdc-textfield__input",value:this.props.loan.endDate,onChange:this.handleInputChange,type:"date",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"End Date"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"notes",className:"mdc-textfield__input",value:this.props.loan.notes,onChange:this.handleInputChange,type:"text"}),s.a.createElement("label",{className:"mdc-textfield__label"},"Notes"))),s.a.createElement("div",{className:"mdc-form-field mdc-form-submit"},s.a.createElement("input",{type:"submit",className:"mdc-button primary-button",value:this.props.loan.id?"Update":"Add",disabled:!this.state.isValid}),this.props.loan.id&&s.a.createElement("input",{type:"button",className:"mdc-button",onClick:function(){return e.dialog.show()},value:"Delete",disabled:1==this.props.totalRec}),s.a.createElement("input",{type:"button",className:"mdc-button",onClick:function(){return e.props.onCancel()},value:"Close"})))}}]),a}(n.Component)),v=(a(190),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target;t.reportValidity(),n.setState({isValid:n.form.checkValidity()}),n.props.onChange(t.name,t.value)},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit()},n.initializeDeleteModal=function(e){e&&(n.dialog=new b.MDCDialog(e),n.dialog.listen("MDCDialog:accept",(function(){document.body.className=document.body.className.replace("mdc-dialog-scroll-lock",""),n.props.onDelete(n.props.utility)})))},n.state={isValid:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.querySelectorAll(".mdc-textfield").forEach((function(e){new g.MDCTextfield(e)})),void 0===this.props.utility.id&&this.amountInput.focus()}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.handleSubmit,ref:function(t){e.form=t},noValidate:!0},s.a.createElement("aside",{className:"mdc-dialog",ref:this.initializeDeleteModal},s.a.createElement("div",{className:"mdc-dialog__surface"},s.a.createElement("header",{className:"mdc-dialog__header"},s.a.createElement("h2",{className:"mdc-dialog__header__title"},"Are you sure?")),s.a.createElement("section",{className:"mdc-dialog__body"},"Do you really want to delete the expense?"),s.a.createElement("footer",{className:"mdc-dialog__footer"},s.a.createElement("button",{type:"button",className:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--cancel"},"Cancel"),s.a.createElement("button",{type:"button",className:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--accept"},"Delete")))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"billAmount",className:"mdc-textfield__input",ref:function(t){e.amountInput=t},value:this.props.utility.billAmount,onChange:this.handleInputChange,type:"number",step:"0.01",min:"0",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Bill Amount"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"unit",className:"mdc-textfield__input",value:this.props.utility.unit,onChange:this.handleInputChange,type:"number",step:"0.01",min:"0",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Unit"))),s.a.createElement("div",{className:"mdc-form-field",style:{width:"100%"}},s.a.createElement("select",{name:"category",style:{width:"100%"},className:"mdc-select",value:this.props.utility.category,onChange:this.handleInputChange,required:!0},this.props.utilityCategories.map((function(e){return s.a.createElement("option",{value:e,key:e},e)})))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"notes",className:"mdc-textfield__input",value:this.props.utility.notes,onChange:this.handleInputChange,type:"text"}),s.a.createElement("label",{className:"mdc-textfield__label"},"Notes"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"startDate",className:"mdc-textfield__input",value:this.props.utility.startDate,onChange:this.handleInputChange,type:"date",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"Start Date"))),s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("div",{className:"mdc-textfield",style:{width:"100%"}},s.a.createElement("input",{name:"endDate",className:"mdc-textfield__input",value:this.props.utility.endDate,onChange:this.handleInputChange,type:"date",required:!0}),s.a.createElement("label",{className:"mdc-textfield__label"},"End Date"))),s.a.createElement("div",{className:"mdc-form-field mdc-form-submit"},s.a.createElement("input",{type:"submit",className:"mdc-button primary-button",value:this.props.utility.id?"Update":"Add",disabled:!this.state.isValid}),this.props.utility.id&&s.a.createElement("input",{type:"button",className:"mdc-button",onClick:function(){return e.dialog.show()},value:"Delete",disabled:1==this.props.totalRec}),s.a.createElement("input",{type:"button",className:"mdc-button",onClick:function(){return e.props.onCancel()},value:"Close"})))}}]),a}(n.Component)),_=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"center"},s.a.createElement("svg",{width:"80px",height:"80px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},s.a.createElement("circle",{cx:"84",cy:"50",r:"0",fill:"#c0f6d2"},s.a.createElement("animate",{attributeName:"r",values:"11;0;0;0;0",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"0s"}),s.a.createElement("animate",{attributeName:"cx",values:"84;84;84;84;84",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"0s"})),s.a.createElement("circle",{cx:"40.0957",cy:"50",r:"11",fill:"#ff7c81"},s.a.createElement("animate",{attributeName:"r",values:"0;11;11;11;0",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"-0.5s"}),s.a.createElement("animate",{attributeName:"cx",values:"16;16;50;84;84",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"-0.5s"})),s.a.createElement("circle",{cx:"16",cy:"50",r:"7.79567",fill:"#fac090"},s.a.createElement("animate",{attributeName:"r",values:"0;11;11;11;0",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"-0.25s"}),s.a.createElement("animate",{attributeName:"cx",values:"16;16;50;84;84",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"-0.25s"})),s.a.createElement("circle",{cx:"84",cy:"50",r:"3.20433",fill:"#ffffcb"},s.a.createElement("animate",{attributeName:"r",values:"0;11;11;11;0",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"0s"}),s.a.createElement("animate",{attributeName:"cx",values:"16;16;50;84;84",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"0s"})),s.a.createElement("circle",{cx:"74.0957",cy:"50",r:"11",fill:"#c0f6d2"},s.a.createElement("animate",{attributeName:"r",values:"0;0;11;11;11",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"0s"}),s.a.createElement("animate",{attributeName:"cx",values:"16;16;16;50;84",keyTimes:"0;0.25;0.5;0.75;1",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1",calcMode:"spline",dur:"1s",repeatCount:"indefinite",begin:"0s"}))))}}]),a}(n.Component),x=a(91),N=(a(191),a(192),a(193),a(194),a(195),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).onKeyPressed=function(t){!0===e.state.signedIn&&(!1===e.state.showExpenseForm?65===t.keyCode&&e.onExpenseNew():27===t.keyCode&&e.handleExpenseCancel())},e.signedInChanged=function(t){e.setState({signedIn:t}),e.state.signedIn&&e.load()},e.handleExpenseSubmit=function(){var t,a;switch(e.setState({processing:!0,showExpenseForm:!1}),e.state.currentView){case"expense":t=e.state.expense.id,a=e.state.expense;break;case"loan":t=e.state.loan.id,a=e.state.loan;break;case"utility":t=e.state.utility.id,a=e.state.utility}(t?e.update:e.append).bind(Object(u.a)(e))(a).then((function(a){"utility"!=e.state.currentView||t?(e.snackbar.show({message:"Expense ".concat(t?"updated":"added","!")}),e.load()):(e.state.currentView="expense",e.state.expense={date:(new Date).getFullYear()+"-"+((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)+"-"+(new Date).getDate(),description:e.state.utility.notes,category:e.state.utility.category,amount:e.state.utility.billAmount,account:"Chequing"},e.handleExpenseSubmit())}),(function(t){console.error("Something went wrong"),console.error(t),e.setState({loading:!1})}))},e.handleExpenseChange=function(t,a){switch(e.state.currentView){case"expense":e.setState({expense:Object.assign({},e.state.expense,Object(c.a)({},t,a))});break;case"loan":e.setState({loan:Object.assign({},e.state.loan,Object(c.a)({},t,a))});break;case"utility":e.setState({utility:Object.assign({},e.state.utility,Object(c.a)({},t,a))})}},e.handleExpenseDelete=function(t){var a,n;switch(e.setState({processing:!0,showExpenseForm:!1}),e.state.currentView){case"expense":a=t.id.substring(10),n=0;break;case"loan":a=t.id.substring(7),n=1994510126;break;case"utility":a=t.id.substring(9),n=1829259989}window.gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:e.spreadsheetId,resource:{requests:[{deleteDimension:{range:{sheetId:n,dimension:"ROWS",startIndex:a-1,endIndex:a}}}]}}).then((function(t){e.snackbar.show({message:"Expense deleted!"}),e.load()}),(function(t){console.error("Something went wrong"),console.error(t),e.setState({loading:!1})}))},e.handleExpenseSelect=function(t){switch(e.state.currentView){case"expense":e.setState({expense:t,showExpenseForm:!0});break;case"loan":e.setState({loan:t,showExpenseForm:!0});break;case"utility":e.setState({utility:t,showExpenseForm:!0})}},e.handleExpenseCancel=function(){e.setState({showExpenseForm:!1})},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.verifyLogin=e.verifyLogin.bind(Object(u.a)(e)),e.filterUtility=e.filterUtility.bind(Object(u.a)(e)),e.monthlyOnUtility=e.monthlyOnUtility.bind(Object(u.a)(e)),e.clientId="825310645531-8j0bnfk6ge5vb8q1j8mnq0sudop9ikod.apps.googleusercontent.com",e.spreadsheetId=Object({NODE_ENV:"production",PUBLIC_URL:"/expenses",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SHEET_ID||"1uK7I_xBLxjsv934177jWlu523KVdFzV66835t6xBCQo",e.state={signedIn:void 0,accounts:[],categories:[],loanCategories:[],expenses:[],loans:[],utilitys:[],totalLoan:void 0,totalEMI:void 0,currentView:"expense",processing:!0,expense:{},currentMonth:void 0,previousMonth:void 0,showExpenseForm:!1,maxRecToShow:30,pinIsVfy:"true"==sessionStorage.getItem("pinIsVfy"),filteredUtilityBills:[],currentExpenses:[]},sessionStorage.setItem("pinIsVfy",e.state.pinIsVfy),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],clientId:e.clientId,scope:"https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.metadata.readonly"}).then((function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(e.signedInChanged),e.signedInChanged(window.gapi.auth2.getAuthInstance().isSignedIn.get())}))})),document.addEventListener("keyup",this.onKeyPressed.bind(this))}},{key:"onExpenseNew",value:function(){var e=new Date,t="".concat(e.getFullYear(),"-").concat(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate());switch(this.state.currentView){case"expense":this.setState({showExpenseForm:!0,expense:{amount:"",description:"",date:"".concat(e.getFullYear(),"-").concat(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate()),category:this.state.categories[0],account:this.state.accounts[0]}});break;case"loan":this.setState({showExpenseForm:!0,loan:{startDate:t,endDate:t,notes:"",category:this.state.loanCategories[0],loanAmount:"",interestRate:""}});break;case"utility":this.setState({showExpenseForm:!0,utility:{startDate:t,endDate:t,notes:"",category:this.state.utilityCategories[0],billAmount:"",unit:""}})}}},{key:"parseExpense",value:function(e,t){return{id:"Expenses!A".concat(t+2),date:e[0],description:e[1],category:e[3],amount:(e[4]||"").replace(/,/g,""),account:e[2]}}},{key:"parseLoan",value:function(e,t){return{id:"Loans!A".concat(t+2),startDate:e[0],endDate:e[1],notes:e[2],category:e[3],loanAmount:(e[4]||"").replace(/,/g,""),paid:e[5],loanTerm:e[6],interestRate:(e[7]||"").replace(/%/g,""),paidPercentage:e[8],monthlyInstallment:e[9]}}},{key:"parseUtility",value:function(e,t){return{id:"Utility!A".concat(t+2),startDate:e[0],endDate:e[1],notes:e[2],category:e[3],billAmount:(e[4]||"").replace(/,/g,""),unit:e[5]}}},{key:"formatExpense",value:function(e){switch(this.state.currentView){case"expense":return["=DATE(".concat(e.date.substr(0,4),", ").concat(e.date.substr(5,2),", ").concat(e.date.substr(-2),")"),e.description,e.account,e.category,e.amount];case"loan":return["=DATE(".concat(e.startDate.substr(0,4),", ").concat(e.startDate.substr(5,2),", ").concat(e.startDate.substr(-2),")"),"=DATE(".concat(e.endDate.substr(0,4),", ").concat(e.endDate.substr(5,2),", ").concat(e.endDate.substr(-2),")"),e.notes,e.category,e.loanAmount,0,e.loanTerm,e.interestRate+"%"];case"utility":return["=DATE(".concat(e.startDate.substr(0,4),", ").concat(e.startDate.substr(5,2),", ").concat(e.startDate.substr(-2),")"),"=DATE(".concat(e.endDate.substr(0,4),", ").concat(e.endDate.substr(5,2),", ").concat(e.endDate.substr(-2),")"),e.notes,e.category,e.billAmount,e.unit]}}},{key:"append",value:function(e){return window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:this.spreadsheetId,range:["loan"==this.state.currentView?"Loans!A1":"utility"==this.state.currentView?"Utility!A1":"Expenses!A1"],valueInputOption:"USER_ENTERED",insertDataOption:"INSERT_ROWS",values:[this.formatExpense(e)]})}},{key:"update",value:function(e){return window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:this.spreadsheetId,range:e.id,valueInputOption:"USER_ENTERED",values:[this.formatExpense(e)]})}},{key:"load",value:function(){var e=this;window.gapi.client.sheets.spreadsheets.values.batchGet({spreadsheetId:this.spreadsheetId,ranges:["Data!A2:A50","Data!E2:E50","Expenses!A2:F","Current!H1","Previous!H1","Data!F2:F2","Data!D2:D2","Loans!A2:J","Loans!K2:K2","Loans!L2:L2","Data!G2:G50","Data!H2:H50","Utility!A2:F","Utility!H2:H2","Current!A2:E"]}).then((function(t){var a=t.result.valueRanges[0].values.map((function(e){return e[0]})),n=t.result.valueRanges[1].values.map((function(e){return e[0]})),s=t.result.valueRanges[10].values.map((function(e){return e[0]})),i=t.result.valueRanges[11].values.map((function(e){return e[0]}));e.setState({accounts:a,categories:n,loanCategories:s,utilityCategories:i,expenses:(t.result.valueRanges[2].values||[]).map(e.parseExpense).reverse().slice(0,e.state.maxRecToShow),processing:!1,currentMonth:t.result.valueRanges[3].values[0][0],previousMonth:t.result.valueRanges[4].values[0][0],pin:t.result.valueRanges[5].values[0][0],limitPerMonth:t.result.valueRanges[6].values[0][0],loans:(t.result.valueRanges[7].values||[]).map(e.parseLoan).slice(0,e.state.maxRecToShow),totalLoan:t.result.valueRanges[8].values[0][0],totalEMI:t.result.valueRanges[9].values[0][0],utilitys:(t.result.valueRanges[12].values||[]).map(e.parseUtility).slice(0,e.state.maxRecToShow),totalUtilityBill:t.result.valueRanges[13].values[0][0],filteredUtilityBills:(t.result.valueRanges[12].values||[]).map(e.parseUtility).slice(0,e.state.maxRecToShow),currentExpenses:t.result.valueRanges[14].values})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("header",{className:"mdc-toolbar mdc-toolbar--fixed"},s.a.createElement("div",{className:"mdc-toolbar__row"},s.a.createElement("section",{className:"mdc-toolbar__section mdc-toolbar__section--align-start"},s.a.createElement("span",{className:"mdc-toolbar__title"},"Daily Expenses")),s.a.createElement("section",{className:"mdc-toolbar__section mdc-toolbar__section--align-end",role:"toolbar"},!1===this.state.signedIn&&s.a.createElement("a",{className:"material-icons mdc-toolbar__icon","aria-label":"Sign in",title:"Sign in",alt:"Sign in",onClick:function(e){e.preventDefault(),window.gapi.auth2.getAuthInstance().signIn()}},"perm_identity"),this.state.signedIn&&s.a.createElement("a",{className:"material-icons mdc-toolbar__icon","aria-label":"Sign out",title:"Sign out",alt:"Sign out",onClick:function(e){e.preventDefault(),window.gapi.auth2.getAuthInstance().signOut()}},"exit_to_app")))),s.a.createElement("div",{className:"toolbar-adjusted-content"},void 0===this.state.signedIn&&s.a.createElement(_,null),!1===this.state.signedIn&&s.a.createElement("div",{className:"center"},s.a.createElement("button",{className:"mdc-button sign-in","aria-label":"Sign in",onClick:function(){window.gapi.auth2.getAuthInstance().signIn()}},"Sign In")),this.state.signedIn&&this.renderPin()),s.a.createElement("div",{ref:function(t){t&&(e.snackbar=new x.MDCSnackbar(t))},className:"mdc-snackbar","aria-live":"assertive","aria-atomic":"true","aria-hidden":"true"},s.a.createElement("div",{className:"mdc-snackbar__text"}),s.a.createElement("div",{className:"mdc-snackbar__action-wrapper"},s.a.createElement("button",{type:"button",className:"mdc-button mdc-snackbar__action-button","aria-hidden":"true"}))))}},{key:"renderPin",value:function(){var e=this;return this.state.signedIn&&this.state.pinIsVfy?this.renderBody():0==this.state.pinIsVfy?s.a.createElement("div",{className:"content pin"},s.a.createElement("input",{type:"password",placeholder:"Enter PIN",name:"userEnterPIN",maxLength:"4",onChange:this.handleChange}),s.a.createElement("button",{onClick:function(){return e.verifyLogin(e.state.pin,e.state.userEnterPIN)}},"Login")):void 0}},{key:"verifyLogin",value:function(e,t){e==t&&(this.setState({pinIsVfy:!0}),sessionStorage.setItem("pinIsVfy",!0))}},{key:"handleChange",value:function(e){var t=e.target;this.setState(Object(c.a)({},t.name,t.value)),t.value&&4==t.value.length&&this.verifyLogin(this.state.pin,t.value)}},{key:"renderBody",value:function(){return this.state.processing?s.a.createElement(_,null):s.a.createElement("div",{className:"content"},this.renderExpenses())}},{key:"filterUtility",value:function(e){this.state.filteredUtilityBills=this.state.utilitys.filter((function(t){return t.category==e.target.value}))}},{key:"monthlyOnUtility",value:function(){var e=this,t=0;return this.state.currentExpenses.forEach((function(a){e.state.utilityCategories.includes(a[3])&&(t+=parseFloat(a[4].replace("\u20b9","").replace(/,/g,"")))})),t}},{key:"renderExpenses",value:function(){var e=this;if(!this.state.showExpenseForm)return s.a.createElement("div",null,s.a.createElement("nav",{className:"nav-bar"},s.a.createElement("button",{className:"mdc-button",onClick:function(){return e.setState({currentView:"expense"})}},"Daily Expenses"),s.a.createElement("button",{className:"mdc-button",style:{backgroundColor:"utility"==this.state.currentView?"#d97423":"#2ed6a8"},onClick:function(){return e.setState({currentView:"utility"})}},"Utility Bills"),s.a.createElement("button",{className:"mdc-button",style:{backgroundColor:"loan"==this.state.currentView?"red":"#2ed6a8"},onClick:function(){return e.setState({currentView:"loan"})}},"Loan Details"),s.a.createElement("button",{className:"mdc-button",style:{backgroundColor:"note"==this.state.currentView?"green":"#2ed6a8"},onClick:function(){return e.setState({currentView:"note"})}},"Notes")),s.a.createElement("div",{className:"mdc-card"},s.a.createElement("section",{className:"mdc-card__primary"},s.a.createElement("h2",{className:"mdc-card__subtitle"},"loan"==this.state.currentView?"Total Pending Loan":"This month you've spent:"),s.a.createElement("h1",{className:"mdc-card__title mdc-card__title--large center"},"loan"==this.state.currentView?this.state.totalLoan:"utility"==this.state.currentView?this.state.totalUtilityBill:this.state.currentMonth)),s.a.createElement("section",{className:"mdc-card__supporting-text"},s.a.createElement("ul",null,s.a.createElement("li",null,"loan"==this.state.currentView?"Total Monthly EMI":"Previous month",": ",s.a.createElement("b",null,"loan"==this.state.currentView?this.state.totalEMI:this.state.previousMonth)),s.a.createElement("li",null,"loan"==this.state.currentView?"Number Of Loan":"Monthly spending limit Remaining",": ",s.a.createElement("b",null,"loan"==this.state.currentView?this.state.loans.length:this.state.currentMonth.slice(0,1)+(parseFloat(this.state.limitPerMonth)-parseFloat(this.state.currentMonth.replace(/,/g,"").slice(1))))),"expense"!=this.state.currentView?"":s.a.createElement("li",null,"Monthly spending on utility:",s.a.createElement("b",null,"\u20b9",this.monthlyOnUtility())),"utility"!=this.state.currentView?"":s.a.createElement("li",null,s.a.createElement("div",{className:"mdc-form-field"},s.a.createElement("select",{style:{"min-width":"20%"},onChange:this.filterUtility},s.a.createElement("option",null,"Select Categorie "),this.state.utilityCategories.map((function(e){return s.a.createElement("option",null,e)})))))))),"note"==this.state.currentView?s.a.createElement("div",null,s.a.createElement("iframe",{src:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSONrFbXQjK_ynFRGOeEyntjR-BTgfYY4cQwnCmE3u-eDqeLUFsBV4Hdc6jRHcGGSxidfEAYAshpTkQ/pubchart?oid=541389695&format=interactive"})):"",s.a.createElement(f,{expenses:"loan"==this.state.currentView?this.state.loans:"utility"==this.state.currentView?this.state.filteredUtilityBills:this.state.expenses,onSelect:this.handleExpenseSelect}),this.state.expenses.length>=this.state.maxRecToShow&&s.a.createElement("div",{className:"show-all"},s.a.createElement("button",{className:"mdc-button",onClick:function(){return e.state.maxRecToShow=e.state.maxRecToShow+e.state.maxRecToShow}},"show all")),s.a.createElement("button",{onClick:function(){return e.onExpenseNew()},className:"mdc-fab app-fab--absolute material-icons","aria-label":"Add expense"},s.a.createElement("span",{className:"mdc-fab__icon "},"add")));switch(this.state.currentView){case"expense":return s.a.createElement(y,{categories:this.state.categories,accounts:this.state.accounts,expense:this.state.expense,totalRec:this.state.expenses.length,onSubmit:this.handleExpenseSubmit,onCancel:this.handleExpenseCancel,onDelete:this.handleExpenseDelete,onChange:this.handleExpenseChange});case"loan":return s.a.createElement(E,{loanCategories:this.state.loanCategories,loan:this.state.loan,totalRec:this.state.loans.length,onSubmit:this.handleExpenseSubmit,onCancel:this.handleExpenseCancel,onDelete:this.handleExpenseDelete,onChange:this.handleExpenseChange});case"utility":return s.a.createElement(v,{utilityCategories:this.state.utilityCategories,utility:this.state.utility,totalRec:this.state.utilitys.length,onSubmit:this.handleExpenseSubmit,onCancel:this.handleExpenseCancel,onDelete:this.handleExpenseDelete,onChange:this.handleExpenseChange})}}}]),a}(n.Component));a(196),a(197);l.a.render(s.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="".concat("/expenses","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))},92:function(e,t,a){e.exports=a(198)}},[[92,1,2]]]);
//# sourceMappingURL=main.36000a3b.chunk.js.map